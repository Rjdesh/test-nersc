import{a as w,b as C,c as I,g as D,u as N,d as p,j as e,B as t,e as P,L as E,T as a,f as T,P as R,M as q,h as z,i as J}from"./index-CYwz6NOt.js";import{F as U}from"./FilterField-fDWEqv_7.js";import{S as V}from"./SciDataGrid-BCqQ37kp.js";import{u as B}from"./useDataFromSource-CYeP9Hjr.js";import{M as G}from"./MenuItem-B8gjdKSY.js";import"./FormGroup-Dq_3h_QB.js";import"./ListItemText-Btae9U9B.js";import"./DatePicker-DVvaramW.js";import"./DateCalendar-Bel-XtnF.js";import"./colorManipulator-DooNoOni.js";import"./DataGrid-BU14aJeL.js";import"./index-Chjiymov.js";import"./useGridRootProps-Qq7s2dht.js";import"./Close-C-5r-21X.js";import"./Tooltip-DalGyolZ.js";import"./Chip-CZosmUHm.js";import"./Divider-BpsEYavU.js";import"./dividerClasses-9LCuLCGw.js";import"./CircularProgress-Cz1v44mr.js";import"./Grid-HghZybvF.js";var i={},f;function A(){if(f)return i;f=1;var l=w();Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=l(C()),s=I();return i.default=(0,n.default)((0,s.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),i}var H=A();const k=D(H),le=function(){const n=N(),[s,c]=p.useState(null),[m,x]=p.useState(null),d=B("data/user-job-performance/user-jobs.json"),g=(r,o)=>{r.stopPropagation(),c(r.currentTarget),x(o)},u=()=>{c(null)},j=()=>{m&&(n({to:"/user-job-performance/performance/$id",params:{id:m}}),u())},b=()=>Math.floor(40+Math.random()*35),M=()=>Math.floor(800+Math.random()*800),v=r=>r>1400?"high":r>1100?"warning":"medium",S=(d==null?void 0:d.map(r=>{const o=b(),h=M();return{id:r["Job ID"].toString(),startTime:r["Start Time"],endTime:r["End Time"],jobId:r["Job ID"].toString(),projectId:r.Project,chargedNodeHours:r["Charged Node Hours"],avgGpuUtilization:o,energyConsumed:h,energyStatus:v(h),qos:r.QOS}}))||[],y=[{field:"startTime",headerName:"Start time (PST)",width:140},{field:"endTime",headerName:"End time (PST)",width:140},{field:"jobId",headerName:"Job ID",width:100},{field:"projectId",headerName:"Project ID",width:90},{field:"chargedNodeHours",headerName:"Charged Node Hours",width:150,type:"number"},{field:"avgGpuUtilization",headerName:"Avg. GPU Utilization",width:220,renderCell:r=>{const o=Math.max(0,Math.min(100,Number(r.value)||0));return e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:1.5,width:"100%"},children:[e.jsx(t,{sx:{flex:1,height:16,bgcolor:"#cfcfcf",overflow:"hidden"},children:e.jsx(t,{sx:{width:`${o}%`,height:"100%",bgcolor:"#0b3a6b"}})}),e.jsxs(a,{variant:"body2",sx:{minWidth:"48px"},children:[o,"%"]})]})}},{field:"energyConsumed",headerName:"Energy Consumed (J)",width:160,renderCell:r=>e.jsx(a,{variant:"body2",children:r.value})},{field:"qos",headerName:"QOS",width:140},{field:"actions",headerName:"Actions",width:180,renderCell:r=>e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(z,{to:"/user-job-performance/$id",params:{id:r.row.id},style:{fontSize:"0.875rem",textDecoration:"none",color:"#1976d2"},children:"View Performance"}),e.jsx(J,{size:"small","aria-label":"More actions",onClick:o=>g(o,r.row.id),children:e.jsx(k,{fontSize:"small"})})]})}];return e.jsx(U,{children:e.jsxs(t,{sx:{maxWidth:"1400px",margin:"0 auto",padding:3},children:[e.jsxs(P,{sx:{mb:2},children:[e.jsx(E,{underline:"hover",color:"primary",href:"#",children:"For Users"}),e.jsx(a,{color:"text.primary",children:"Performance Metrics"})]}),e.jsx(t,{sx:{mb:4},children:e.jsx(a,{variant:"h3",sx:{fontWeight:700,color:"#1a1a1a",mb:1},children:"Your Job Performance"})}),e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a2f5a"},children:"Recent Jobs and Performance"}),e.jsx(T,{variant:"outlined",onClick:()=>n({to:"/user-job-performance/compare"}),sx:{textTransform:"none",borderColor:"#1a2f5a",color:"#1a2f5a","&:hover":{borderColor:"#1a2f5a",bgcolor:"rgba(26, 47, 90)",color:"#ffffff"}},children:"Compare More Metrics â†’"})]}),e.jsx(R,{sx:{p:1},children:d?e.jsx(V,{rows:S,columns:y,pagination:!0,paginationMode:"client",getRowId:r=>r.id,disableColumnSelector:!0,autoHeight:!0,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10,25,50],sx:{"& .MuiDataGrid-columnHeaders":{bgcolor:"#f5f5f5",fontWeight:600},"& .MuiDataGrid-cell":{borderBottom:"1px solid #e0e0e0",display:"flex",alignItems:"center"}}}):e.jsx(t,{sx:{p:3},children:e.jsx(a,{children:"Loading job data..."})})}),e.jsx(q,{anchorEl:s,open:!!s,onClose:u,children:e.jsx(G,{onClick:j,children:"View Real Data"})})]})]})})};export{le as component};
