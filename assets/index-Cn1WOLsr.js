import{t as oe,v as ie,w as ce,x as de,a as x,j as e,B as r,T as a,c as ae,P as W,D as $,F as T,O as M,d as R,Q as O,U as J,V as _,W as G,C as he,b as xe,L as ue,e as me}from"./index-Bq5UsC5d.js";import{P as k}from"./react-plotly-HofA4k-z.js";import{A as ge,E as K,a as Y,T as X,b as Z}from"./ExpandLess-C33m6gml.js";import{u as fe}from"./useQuery-BCY3soUV.js";import{a as ne,C as H}from"./CircularProgress-BhWLlCwa.js";import{A as le}from"./Alert-Brhw5Zn3.js";import{M as s}from"./MenuItem-CYtgkmWP.js";import{G as V}from"./Grid-DvbmxPk-.js";import"./Close-BK7e5_vD.js";import"./dividerClasses-BP1MNR3y.js";var A={},ee;function be(){if(ee)return A;ee=1;var d=oe();Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var o=d(ie()),m=ce();return A.default=(0,o.default)((0,m.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),A}var pe=be();const te=de(pe),je=d=>{const{machine:o,arch:m,start:g,end:u,qos:y}=d;return fe({queryKey:["centerPerformance",o,m,g,u,y],queryFn:async()=>{const j="https://rest.nersc.gov/REST/mynersc/queuewaittimes.php",l=new URLSearchParams({machine:o,arch:m,start:g.toString(),end:u.toString(),qos:y}),h=await fetch(`${j}?${l.toString()}`);if(!h.ok)throw new Error(`Failed to fetch data: ${h.statusText}`);return await h.json()},refetchInterval:12e4,staleTime:3e5,retry:2})},se=d=>{if(!d||d.length===0)return{x:[],y:[],z:[]};const o=new Set,m=new Set;d.forEach(([l,h])=>{o.add(l),m.add(h)});const g=Array.from(o).sort((l,h)=>l-h),u=Array.from(m).sort((l,h)=>l-h),y=Array(u.length).fill(null).map(()=>Array(g.length).fill(null));d.forEach(([l,h,c])=>{const b=g.indexOf(l),D=u.indexOf(h);b!==-1&&D!==-1&&(y[D][b]=c)});const f=g.map((l,h)=>l===0?"<1":h===g.length-1?`${l}+`:l.toString()),j=u.map((l,h)=>{const c=Math.pow(2,l),b=Math.pow(2,l+1)-1;return l===0?"1":h===u.length-1?`${c}+`:`${c} - ${b}`});return{x:f,y:j,z:y}},re=d=>!d||!d.categories||!d.values?{categories:[],values:[]}:{categories:d.categories.map(m=>m.charAt(0).toUpperCase()+m.slice(1)),values:d.values};function ye(){const[d,o]=x.useState("perlmutter"),[m,g]=x.useState("gpu"),[u,y]=x.useState("regular"),[f,j]=x.useState("7d"),[l,h]=x.useState(new Date(Date.now()-7*24*60*60*1e3)),[c,b]=x.useState(new Date),[D,F]=x.useState(!0),[E,Q]=x.useState(!0),i=x.useMemo(()=>({machine:d,arch:m,start:Math.floor(l.getTime()/1e3),end:Math.floor(c.getTime()/1e3),qos:u}),[d,m,l,c,u]),{data:t,isLoading:w,isError:C,error:L,refetch:q}=je(i),z=x.useMemo(()=>t!=null&&t.wait?se(t.wait):null,[t==null?void 0:t.wait]),S=x.useMemo(()=>t!=null&&t.jobs?se(t.jobs):null,[t==null?void 0:t.jobs]),P=x.useMemo(()=>t!=null&&t.wait_table?re(t.wait_table):null,[t==null?void 0:t.wait_table]),N=x.useMemo(()=>t!=null&&t.jobs_table?re(t.jobs_table):null,[t==null?void 0:t.jobs_table]),B=n=>{j(n);const v=new Date;let p=7;n==="24h"?p=1:n==="7d"?p=7:n==="30d"&&(p=30),h(new Date(Date.now()-p*24*60*60*1e3)),b(v)},U=()=>{const n=l.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),v=c.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${n} - ${v}`};return w?e.jsxs(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:[e.jsx(ne,{}),e.jsx(a,{sx:{ml:2},children:"Loading performance data..."})]}):C?e.jsxs(le,{severity:"error",sx:{mb:3},children:[e.jsx(ge,{children:"Error Loading Data"}),L instanceof Error?L.message:"An unexpected error occurred",e.jsx(ae,{onClick:()=>q(),sx:{mt:1},children:"Try Again"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{mb:6},children:[e.jsx(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:e.jsxs(r,{children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a2f5a",mb:.5},children:"Queue Wait Times"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"See how long jobs are waiting to start"})]})}),e.jsxs(W,{sx:{p:3,mb:3},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:500},children:"Avg. Queue Wait Time by Node Count and Duration"}),e.jsx($,{size:"small",children:e.jsx(te,{})})]}),e.jsxs(r,{sx:{display:"flex",gap:2,mb:2,alignItems:"center"},children:[e.jsxs(T,{size:"small",sx:{minWidth:150},children:[e.jsx(M,{id:"select-label-machine",children:"Machine"}),e.jsxs(R,{value:`${d}-${m}`,labelId:"select-label-machine",id:"select-machine",label:"Machine",onChange:n=>{const[v,p]=n.target.value.split("-");o(v),g(p)},sx:{bgcolor:"white"},children:[e.jsx(s,{value:"perlmutter-all",children:"Perlmutter (All)"}),e.jsx(s,{value:"perlmutter-gpu",children:"Perlmutter (GPU)"}),e.jsx(s,{value:"perlmutter-cpu",children:"Perlmutter (CPU)"})]})]}),e.jsxs(T,{size:"small",sx:{minWidth:120},children:[e.jsx(M,{id:"select-label-qos",children:"QOS"}),e.jsxs(R,{value:u,labelId:"select-label-qos",id:"select-qos",label:"QOS",onChange:n=>y(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"regular",children:"Regular"}),e.jsx(s,{value:"debug",children:"Debug"}),e.jsx(s,{value:"interactive",children:"Interactive"}),e.jsx(s,{value:"jupyter",children:"Jupyter"}),e.jsx(s,{value:"preempt",children:"Preempt"}),e.jsx(s,{value:"shared",children:"Shared"})]})]}),e.jsxs(T,{size:"small",sx:{minWidth:150,ml:"auto"},children:[e.jsx(M,{id:"wait-time-date-range-label",children:"Date Range"}),e.jsxs(R,{value:f,labelId:"wait-time-date-range-label",id:"wait-time-date-range-select",label:"Date Range",onChange:n=>B(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"24h",children:"Last 24 Hours"}),e.jsx(s,{value:"7d",children:"Last 7 Days"}),e.jsx(s,{value:"30d",children:"Last 30 Days"})]})]}),e.jsx(H,{label:U(),size:"small",sx:{bgcolor:"#D6E1E8",color:"#49454F",fontWeight:500}})]}),z&&e.jsx(k,{data:[{z:z.z,x:z.x,y:z.y,type:"heatmap",colorscale:[[0,"#73D216"],[.25,"#EDD400"],[.5,"#F57900"],[1,"#EF2929"]],showscale:!0,zmin:0,zmax:96,connectgaps:!1,xgap:1,ygap:1,hovertemplate:"<b>Queue Wait Time</b><br><br>Nodes Requested: <b>%{y}</b><br>Hours Requested: <b>%{x}</b><br>Avg Wait Time: <b>%{z} hours</b><extra></extra>"}],layout:{autosize:!0,height:450,margin:{l:100,r:80,t:20,b:80},xaxis:{title:"Hours Requested",side:"bottom",showgrid:!0,gridcolor:"#f0f0f0",gridwidth:1,zeroline:!1,type:"category",tickmode:"array",tickvals:z.x,ticktext:z.x.map(String)},yaxis:{title:"Number of Nodes Requested",showgrid:!0,gridcolor:"#f0f0f0",gridwidth:1,zeroline:!1},plot_bgcolor:"white",paper_bgcolor:"white"},config:{responsive:!0,displayModeBar:!0,displaylogo:!1,staticPlot:!1},style:{width:"100%"}})]}),e.jsxs(W,{sx:{p:3},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:500},children:"Avg. Queue Wait Time across different Queues"}),e.jsx($,{size:"small",onClick:()=>F(!D),children:D?e.jsx(K,{}):e.jsx(Y,{})})]}),D&&P&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{display:"flex",gap:2,mb:2,justifyContent:"flex-end",alignItems:"center"},children:[e.jsxs(T,{size:"small",sx:{minWidth:150},children:[e.jsx(M,{id:"jobs-table-date-range-label",children:"Date Range"}),e.jsxs(R,{value:f,labelId:"jobs-table-date-range-label",id:"jobs-table-date-range-select",label:"Date Range",onChange:n=>B(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"24h",children:"Last 24 Hours"}),e.jsx(s,{value:"7d",children:"Last 7 Days"}),e.jsx(s,{value:"30d",children:"Last 30 Days"})]})]}),e.jsx(H,{label:U(),size:"small",sx:{bgcolor:"#D6E1E8",color:"#49454F",fontWeight:500}})]}),e.jsx(X,{children:e.jsxs(O,{size:"small",sx:{minWidth:650},children:[e.jsx(Z,{children:e.jsx(J,{sx:{bgcolor:"#f5f5f5"},children:P.categories.map((n,v)=>e.jsx(_,{sx:{fontWeight:600},children:n},v))})}),e.jsx(G,{children:P.values.map((n,v)=>e.jsx(J,{sx:{"&:nth-of-type(odd)":{bgcolor:"#fafafa"}},children:n.map((p,I)=>e.jsx(_,{children:typeof p=="number"&&I>0?p.toFixed(2):p},I))},v))})]})})]})]})]}),e.jsxs(r,{sx:{mb:6},children:[e.jsxs(r,{sx:{mb:2},children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a2f5a",mb:.5},children:"Queued Jobs"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"See how many jobs are waiting to start"})]}),e.jsxs(W,{sx:{p:3,mb:3},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:500},children:"Jobs by Node Count and Duration"}),e.jsx($,{size:"small",children:e.jsx(te,{})})]}),e.jsxs(r,{sx:{display:"flex",gap:2,mb:2,alignItems:"center"},children:[e.jsxs(T,{size:"small",sx:{minWidth:150},children:[e.jsx(M,{id:"select-label-machine",children:"Machine"}),e.jsxs(R,{value:`${d}-${m}`,labelId:"select-label-machine",id:"select-machine",label:"Machine",onChange:n=>{const[v,p]=n.target.value.split("-");o(v),g(p)},sx:{bgcolor:"white"},children:[e.jsx(s,{value:"perlmutter-all",children:"Perlmutter (All)"}),e.jsx(s,{value:"perlmutter-gpu",children:"Perlmutter (GPU)"}),e.jsx(s,{value:"perlmutter-cpu",children:"Perlmutter (CPU)"})]})]}),e.jsxs(T,{size:"small",sx:{minWidth:120},children:[e.jsx(M,{id:"select-label-qos",children:"QOS"}),e.jsxs(R,{value:u,labelId:"select-label-qos",id:"select-qos",label:"QOS",onChange:n=>y(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"regular",children:"Regular"}),e.jsx(s,{value:"debug",children:"Debug"}),e.jsx(s,{value:"interactive",children:"Interactive"}),e.jsx(s,{value:"jupyter",children:"Jupyter"}),e.jsx(s,{value:"preempt",children:"Preempt"}),e.jsx(s,{value:"shared",children:"Shared"})]})]}),e.jsxs(T,{size:"small",sx:{minWidth:150,ml:"auto"},children:[e.jsx(M,{id:"jobs-date-range-label",children:"Date Range"}),e.jsxs(R,{value:f,labelId:"jobs-date-range-label",id:"jobs-date-range-select",label:"Date Range",onChange:n=>B(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"24h",children:"Last 24 Hours"}),e.jsx(s,{value:"7d",children:"Last 7 Days"}),e.jsx(s,{value:"30d",children:"Last 30 Days"})]})]}),e.jsx(H,{label:U(),size:"small",sx:{bgcolor:"#D6E1E8",color:"#49454F",fontWeight:500}})]}),S&&e.jsx(k,{data:[{z:S.z,x:S.x,y:S.y,type:"heatmap",colorscale:[[0,"#73D216"],[.05,"#EDD400"],[.25,"#F57900"],[1,"#EF2929"]],showscale:!0,zmin:0,zmax:4e3,connectgaps:!1,xgap:1,ygap:1,hovertemplate:"<b>Queued Jobs</b><br><br>Nodes Requested: <b>%{y}</b><br>Hours Requested: <b>%{x}</b><br>Number of Jobs: <b>%{z}</b><extra></extra>"}],layout:{autosize:!0,height:450,margin:{l:100,r:80,t:20,b:80},xaxis:{title:"Hours Requested",side:"bottom",showgrid:!0,gridcolor:"#f0f0f0",gridwidth:1,zeroline:!1,type:"category",tickmode:"array",tickvals:S.x,ticktext:S.x.map(String)},yaxis:{title:"Number of Nodes Requested",showgrid:!0,gridcolor:"#f0f0f0",gridwidth:1,zeroline:!1},plot_bgcolor:"white",paper_bgcolor:"white",hovermode:"closest"},config:{responsive:!0,displayModeBar:!0,displaylogo:!1,staticPlot:!1},style:{width:"100%"}})]}),e.jsxs(W,{sx:{p:3},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:500},children:"Jobs across different Queues"}),e.jsx($,{size:"small",onClick:()=>Q(!E),children:E?e.jsx(K,{}):e.jsx(Y,{})})]}),E&&N&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{display:"flex",gap:2,mb:2,justifyContent:"flex-end",alignItems:"center"},children:[e.jsxs(T,{size:"small",sx:{minWidth:150},children:[e.jsx(M,{id:"table-date-range-label",children:"Date Range"}),e.jsxs(R,{value:f,labelId:"table-date-range-label",id:"table-date-range-select",label:"Date Range",onChange:n=>B(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"24h",children:"Last 24 Hours"}),e.jsx(s,{value:"7d",children:"Last 7 Days"}),e.jsx(s,{value:"30d",children:"Last 30 Days"})]})]}),e.jsx(H,{label:U(),size:"small",sx:{bgcolor:"#D6E1E8",color:"#49454F",fontWeight:500}})]}),e.jsx(X,{children:e.jsxs(O,{size:"small",sx:{minWidth:650},children:[e.jsx(Z,{children:e.jsx(J,{sx:{bgcolor:"#f5f5f5"},children:N.categories.map((n,v)=>e.jsx(_,{sx:{fontWeight:600},children:n},v))})}),e.jsx(G,{children:N.values.map((n,v)=>e.jsx(J,{sx:{"&:nth-of-type(odd)":{bgcolor:"#fafafa"}},children:n.map((p,I)=>e.jsx(_,{children:typeof p=="number"&&I>0?I===N.categories.length-1?`${p.toFixed(2)}%`:p.toLocaleString():p},I))},v))})]})})]})]})]})]})}const ve=({csvFilePath:d})=>{const[o,m]=x.useState([]),[g,u]=x.useState(!0),[y,f]=x.useState(null),[j,l]=x.useState("24h"),h=i=>{const t=i.trim().split(`
`),w=[];for(let C=1;C<t.length;C++){const L=t[C].trim();if(!L)continue;const[q,z]=L.split(","),S=parseFloat(q),P=parseFloat(z);!isNaN(S)&&!isNaN(P)&&w.push({time:S,power:P})}return w};x.useEffect(()=>{(async()=>{u(!0),f(null);try{const t=await fetch(d);if(!t.ok)throw new Error(`Failed to load CSV file: ${t.statusText}`);const w=await t.text(),C=h(w);C.length===0?f("No valid data found in the CSV file"):m(C)}catch(t){f(t instanceof Error?t.message:"Error loading CSV file")}finally{u(!1)}})()},[d]);const c=x.useMemo(()=>{if(j==="all"||o.length===0)return o;const i=Math.max(...o.map(w=>w.time));let t;switch(j){case"24h":t=i-24*60*60*1e3;break;case"7d":t=i-7*24*60*60*1e3;break;case"30d":t=i-30*24*60*60*1e3;break;default:return o}return o.filter(w=>w.time>=t)},[o,j]),b=x.useMemo(()=>{if(o.length===0)return null;const i=Math.max(...o.map(t=>t.time));return new Date(i)},[o]),D=x.useMemo(()=>{if(c.length===0)return"";const i=c.map(S=>S.time),t=Math.min(...i),w=Math.max(...i),C=new Date(t),L=new Date(w),q=C.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),z=L.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${q} - ${z}`},[c]),F=c.map(i=>new Date(i.time)),E=c.map(i=>i.power),Q=x.useMemo(()=>E.map(i=>i>=1e6?`${(i/1e6).toFixed(2)} MW`:i>=1e3?`${(i/1e3).toFixed(2)} KW`:`${i.toFixed(2)} W`),[E]);return e.jsx(r,{sx:{width:"100%",mb:5},children:e.jsxs(W,{elevation:3,sx:{p:3},children:[e.jsx(a,{variant:"h5",gutterBottom:!0,children:"System Power Usage"}),g&&e.jsx(r,{sx:{display:"flex",justifyContent:"center",my:4},children:e.jsx(ne,{})}),y&&e.jsx(le,{severity:"error",sx:{mb:2},children:y}),o.length>0&&!g&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{mb:3,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[e.jsxs(T,{size:"small",sx:{minWidth:200},children:[e.jsx(M,{id:"date-range-label",children:"Date Range"}),e.jsxs(R,{labelId:"date-range-label",id:"date-range-select",value:j,label:"Date Range",onChange:i=>l(i.target.value),sx:{textTransform:"none"},children:[e.jsx(s,{value:"24h",sx:{textTransform:"none"},children:"Last 24 Hours"}),e.jsx(s,{value:"7d",sx:{textTransform:"none"},children:"Last 7 Days"}),e.jsx(s,{value:"30d",sx:{textTransform:"none"},children:"Last 30 Days"}),e.jsx(s,{value:"all",sx:{textTransform:"none"},children:"All Data"})]})]}),e.jsx(H,{label:D,size:"small",sx:{bgcolor:"#D6E1E8",color:"#49454F",fontWeight:500,ml:2}})]}),e.jsx(r,{sx:{width:"100%",height:"500px",mb:3},children:e.jsx(k,{data:[{x:F,y:E,type:"scatter",mode:"lines",name:"Power",line:{color:"#2196f3",width:2},customdata:Q,hovertemplate:"<b>Power:</b> %{customdata}<extra></extra>",hoverlabel:{bgcolor:"#444444",font:{color:"white"}}}],layout:{autosize:!0,xaxis:{title:"Time",type:"date",gridcolor:"#f0f0f0",showgrid:!0,spikecolor:"#bdbec1",spikethickness:1,spikedash:"dot",showline:!0,linecolor:"#bdbec1",zeroline:!1},yaxis:{title:"Power (W)",gridcolor:"#f0f0f0",showgrid:!0,zeroline:!1},hovermode:"x",margin:{l:50,r:20,t:20,b:50},dragmode:"zoom"},config:{responsive:!0,displayModeBar:!1,displaylogo:!1},style:{width:"100%",height:"100%"}})})]}),e.jsxs(a,{variant:"body1",sx:{color:"#666",mt:2,display:"block"},children:[e.jsx("strong",{children:"Note:"})," Full system power usage is calculated from the substation power. Sections without measured data are empty in chart."," ",e.jsx("a",{href:"#",style:{color:"#2196f3"},children:"Learn more."})]}),e.jsxs(r,{sx:{mt:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(a,{variant:"caption",sx:{color:"text.secondary"},children:["Displaying ",c.length," of ",o.length," data points"]}),b&&e.jsxs(a,{variant:"caption",sx:{color:"text.secondary"},children:["Last updated: ",b.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]})]})})},Le=function(){const o=()=>{const f=[],j=[],l=[],h=new Date;for(let c=14;c>=0;c--){const b=new Date(h);b.setDate(b.getDate()-c),f.push(b.toLocaleDateString("en-US",{month:"short",day:"numeric"}));const D=500+Math.random()*300,F=D-50+Math.random()*100;j.push(Math.floor(D)),l.push(Math.floor(F))}return{dates:f,submitted:j,completed:l}},m=()=>{const f=[],j=[],l=[],h=new Date;for(let c=14;c>=0;c--){const b=new Date(h);b.setDate(b.getDate()-c),f.push(b.toLocaleDateString("en-US",{month:"short",day:"numeric"})),j.push(Math.floor(800+Math.random()*200)),l.push(Math.floor(400+Math.random()*200))}return{dates:f,nodeHoursAdded:j,backlogExecuted:l}},g=o(),u=m(),y={labels:["HEP","ASCR","BER","BES","NP","Others"],values:[3500,5e3,2300,1e3,800,500],colors:["#1f4788","#4472c4","#5b9bd5","#a5c8e4","#8fce00","#c0c0c0"]};return e.jsxs(he,{maxWidth:"xl",sx:{marginBottom:3,marginTop:3},children:[e.jsxs(xe,{sx:{mb:2},children:[e.jsx(ue,{underline:"hover",color:"primary",href:"#",children:"For Users"}),e.jsx(a,{color:"text.primary",children:"Performance Metrics"})]}),e.jsxs(r,{sx:{mb:4},children:[e.jsx(a,{variant:"h3",sx:{fontWeight:700,color:"#1a1a1a",mb:1},children:"Center Performance"}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"View general system load and performance metrics"})]}),e.jsx(ye,{}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(a,{variant:"h4",sx:{fontWeight:600,color:"#1a1a1a"},children:"NERSC Performance"}),e.jsx(me,{to:"/user-job-performance",style:{textDecoration:"none"},children:e.jsx(ae,{variant:"contained",sx:{textTransform:"none",bgcolor:"#3f51b5","&:hover":{bgcolor:"#303f9f"}},children:"View Performance of Your Jobs â†’"})})]}),e.jsx(ve,{csvFilePath:"/test-nersc/data/perlmutter-system-power-2025-05.csv"}),e.jsxs(V,{container:!0,spacing:3,sx:{mb:3},children:[e.jsxs(V,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a1a1a",mb:2},children:"Daily Jobs Completed"}),e.jsxs(W,{sx:{p:3},children:[e.jsx(a,{variant:"h6",sx:{color:"#555",fontWeight:500,mb:2},children:"Daily Jobs Completes vs Submitted (Last 2 weeks)"}),e.jsxs(r,{sx:{display:"flex",gap:3,mb:2},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(r,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"#ff9800",border:"2px solid #ff9800"}}),e.jsxs(a,{variant:"body2",children:["Jobs Submitted ",e.jsx("strong",{children:"12,123"})]})]}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(r,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"#4caf50",border:"2px solid #4caf50"}}),e.jsxs(a,{variant:"body2",children:["Jobs Completed ",e.jsx("strong",{children:"12,002"})]})]})]}),e.jsx(k,{data:[{x:g.dates,y:g.submitted,type:"scatter",mode:"lines",name:"Jobs Submitted",line:{color:"#ff9800",width:2}},{x:g.dates,y:g.completed,type:"scatter",mode:"lines",name:"Jobs Completed",line:{color:"#4caf50",width:2}}],layout:{autosize:!0,height:300,margin:{l:50,r:20,t:20,b:50},xaxis:{gridcolor:"#f0f0f0",showgrid:!0},yaxis:{gridcolor:"#f0f0f0",showgrid:!0,range:[0,1200]},plot_bgcolor:"white",paper_bgcolor:"white",showlegend:!1},config:{responsive:!0,displayModeBar:!1},style:{width:"100%"}}),e.jsx(r,{sx:{textAlign:"right",mt:1},children:e.jsx(a,{variant:"caption",sx:{color:"#888"},children:"Updated 11/12/2025"})})]})]}),e.jsxs(V,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a1a1a",mb:2},children:"Programs on NERSC"}),e.jsxs(W,{sx:{p:3},children:[e.jsx(a,{variant:"h6",sx:{color:"#555",fontWeight:500,mb:2},children:"Hours on NERSC (Last 2 weeks)"}),e.jsx(k,{data:[{values:y.values,labels:y.labels,type:"pie",hole:.5,marker:{colors:y.colors},textinfo:"label+value",textposition:"outside",automargin:!0}],layout:{autosize:!0,height:350,margin:{l:20,r:20,t:20,b:20},showlegend:!1,plot_bgcolor:"white",paper_bgcolor:"white",annotations:[{text:"",showarrow:!1,font:{size:20}}]},config:{responsive:!0,displayModeBar:!1},style:{width:"100%"}}),e.jsxs(a,{variant:"caption",sx:{color:"#666",display:"block",mt:1},children:[e.jsx("strong",{children:"Note:"})," Contact your allocation manager for questions about your DOE Mission Science Allocation at NERSC."," ",e.jsx("a",{href:"#",style:{color:"#2196f3"},children:"Learn more."})]}),e.jsx(r,{sx:{textAlign:"right",mt:1},children:e.jsx(a,{variant:"caption",sx:{color:"#888"},children:"Updated 11/12/2025"})})]})]})]}),e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a1a1a",mb:2},children:"Daily Jobs Completed"}),e.jsxs(W,{sx:{p:3},children:[e.jsx(a,{variant:"h6",sx:{color:"#555",fontWeight:500,mb:2},children:"Backlog in terms of Node Hours (Last 2 weeks)"}),e.jsxs(r,{sx:{display:"flex",gap:3,mb:2},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(r,{sx:{width:12,height:12,bgcolor:"#5b9bd5"}}),e.jsxs(a,{variant:"body2",children:["Total Node Hours added by new Jobs ",e.jsx("strong",{children:"25,1233"})]})]}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(r,{sx:{width:12,height:12,bgcolor:"#ff9800"}}),e.jsxs(a,{variant:"body2",children:["Total Backlog Executed ",e.jsx("strong",{children:"42,1202"})]})]})]}),e.jsx(k,{data:[{x:u.dates,y:u.nodeHoursAdded,type:"scatter",mode:"lines",name:"Total Node Hours",fill:"tonexty",fillcolor:"rgba(91, 155, 213, 0.3)",line:{color:"#5b9bd5",width:2}},{x:u.dates,y:u.backlogExecuted,type:"scatter",mode:"lines",name:"Total Backlog Executed",fill:"tozeroy",fillcolor:"rgba(255, 152, 0, 0.3)",line:{color:"#ff9800",width:2}}],layout:{autosize:!0,height:300,margin:{l:50,r:20,t:20,b:50},xaxis:{gridcolor:"#f0f0f0",showgrid:!0},yaxis:{gridcolor:"#f0f0f0",showgrid:!0,range:[0,1200]},plot_bgcolor:"white",paper_bgcolor:"white",showlegend:!1},config:{responsive:!0,displayModeBar:!1},style:{width:"100%"}}),e.jsx(r,{sx:{textAlign:"right",mt:1},children:e.jsx(a,{variant:"caption",sx:{color:"#888"},children:"Updated 11/12/2025"})})]})]})};export{Le as component};
