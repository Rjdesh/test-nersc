import{a as d,j as e,B as i,b as y,L as X,T as t,c as P,P as p,F as c,d as m,e as v}from"./index-F85Dv2oJ.js";import{P as w}from"./react-plotly-B6o_BoVU.js";import{F as M}from"./FilterField-BCAojatm.js";import{S as T}from"./SciDataGrid-5qJpH67b.js";import{L as C}from"./LinearMeter-YTf02qIF.js";import{M as o}from"./MenuItem-CV6nmTvX.js";import"./Close-DrzNZMmc.js";import"./DataGrid-D4Rofyw6.js";import"./useGridRootProps-DkUSn7c2.js";import"./CircularProgress-DkVr-ZXt.js";import"./Divider-DHNNhi5H.js";import"./dividerClasses-B0ZCkd5l.js";import"./KeyboardArrowRight-B__9Umy6.js";import"./colorManipulator-bQmg6rQx.js";import"./DatePicker-CPef6xWa.js";import"./DateCalendar-DsAGQNuy.js";import"./Grid-Bx7V6dIk.js";const I=()=>{const u=[{id:"40030776",color:"#4472c4"},{id:"40030778",color:"#70ad47"},{id:"40030779",color:"#ffc000"},{id:"40030780",color:"#a349a4"},{id:"40030781",color:"#ff6b9d"}],s=Array.from({length:21},(a,n)=>n*5);return u.map(a=>{const n=s.map(()=>Math.random()*150+25);return{x:s,y:n,type:"scatter",mode:"lines",name:`Job ${a.id}`,line:{color:a.color,width:2}}})},S=[{id:"1232XXX",startTime:"Today, 12:30 PM",endTime:"Today, 2:00 PM",jobId:"1232XXX",projectId:"m1232X",avgGpuUtilization:55,energyConsumed:1550,energyStatus:"high",qos:"Regular"},{id:"1232XXY",startTime:"Today, 11:30 AM",endTime:"Today, 8:00 AM",jobId:"1232XXY",projectId:"m1232X",avgGpuUtilization:51,energyConsumed:920,energyStatus:"medium",qos:"Regular"},{id:"1232XXZ",startTime:"29 Apr, 11:30 PM",endTime:"Today, 7:00 AM",jobId:"1232XXZ",projectId:"m1232X",avgGpuUtilization:72,energyConsumed:950,energyStatus:"medium",qos:"Regular"},{id:"1232XX0",startTime:"29 Apr, 11:30 PM",endTime:"29 Apr, 9:30 PM",jobId:"1232XX0",projectId:"m1232X",avgGpuUtilization:46,energyConsumed:1250,energyStatus:"warning",qos:"Regular"},{id:"1232XX1",startTime:"29 Apr, 11:30 PM",endTime:"29 Apr, 9:30 PM",jobId:"1232XX1",projectId:"m1232X",avgGpuUtilization:46,energyConsumed:1250,energyStatus:"warning",qos:"Regular"},{id:"1232XX2",startTime:"29 Apr, 11:30 PM",endTime:"29 Apr, 9:30 PM",jobId:"1232XX2",projectId:"m1232X",avgGpuUtilization:46,energyConsumed:1250,energyStatus:"warning",qos:"Regular"},{id:"1232XX3",startTime:"29 Apr, 11:30 PM",endTime:"29 Apr, 9:30 PM",jobId:"1232XX3",projectId:"m1232X",avgGpuUtilization:46,energyConsumed:1250,energyStatus:"warning",qos:"Regular"},{id:"1232XX4",startTime:"29 Apr, 11:30 PM",endTime:"29 Apr, 9:30 PM",jobId:"1232XX4",projectId:"m1232X",avgGpuUtilization:46,energyConsumed:1250,energyStatus:"warning",qos:"Regular"},{id:"1232XX5",startTime:"28 Apr, 5:30 PM",endTime:"29 Apr, 9:30 PM",jobId:"1232XX5",projectId:"m1232X",avgGpuUtilization:46,energyConsumed:1250,energyStatus:"warning",qos:"Regular"}],$=function(){const[s,a]=d.useState("m123123"),[n,g]=d.useState("Recent 5 Jobs"),[x,j]=d.useState("GPU Power"),f=I(),b=[{field:"startTime",headerName:"Start time (PST)",width:160},{field:"endTime",headerName:"End time (PST)",width:160},{field:"jobId",headerName:"Job ID",width:120},{field:"projectId",headerName:"Project ID",width:120},{field:"avgGpuUtilization",headerName:"Avg. GPU Utilization",width:200,renderCell:r=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[e.jsx(i,{sx:{flex:1},children:e.jsx(C,{value:r.value})}),e.jsxs(t,{variant:"body2",sx:{minWidth:"40px"},children:[r.value,"%"]})]})},{field:"energyConsumed",headerName:"Energy Consumed (J)",width:180,renderCell:r=>{const h=r.row.energyStatus;let l="#4caf50";return h==="high"?l="#f44336":h==="warning"&&(l="#ff9800"),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(i,{sx:{width:8,height:8,borderRadius:"50%",bgcolor:l}}),e.jsx(t,{variant:"body2",children:r.value})]})}},{field:"qos",headerName:"QOS",width:100},{field:"actions",headerName:"Actions",width:220,renderCell:r=>e.jsx(v,{to:"/user-job-performance/$id",params:{id:r.row.id},style:{fontSize:"0.875rem",textDecoration:"none",color:"#1976d2"},children:"View Performance Summary"})}];return e.jsx(M,{children:e.jsxs(i,{sx:{maxWidth:"1400px",margin:"0 auto",padding:3},children:[e.jsxs(y,{sx:{mb:2},children:[e.jsx(X,{underline:"hover",color:"primary",href:"#",children:"For Users"}),e.jsx(t,{color:"text.primary",children:"Performance Metrics"})]}),e.jsx(i,{sx:{mb:4},children:e.jsx(t,{variant:"h3",sx:{fontWeight:700,color:"#1a1a1a",mb:1},children:"Your Job Performance"})}),e.jsxs(i,{sx:{mb:5},children:[e.jsxs(i,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(t,{variant:"h5",sx:{fontWeight:600,color:"#1a2f5a"},children:"Recent Performance Trend for Project - m123123"}),e.jsx(P,{variant:"outlined",sx:{textTransform:"none",borderColor:"#1a2f5a",color:"#1a2f5a","&:hover":{borderColor:"#1a2f5a",bgcolor:"rgba(26, 47, 90, 0.04)"}},children:"Compare More Metrics â†’"})]}),e.jsxs(p,{sx:{p:3},children:[e.jsxs(i,{sx:{display:"flex",gap:2,mb:3},children:[e.jsxs(i,{sx:{minWidth:150},children:[e.jsx(t,{variant:"caption",sx:{color:"#666",mb:.5,display:"block"},children:"Project"}),e.jsx(c,{size:"small",fullWidth:!0,children:e.jsxs(m,{value:s,onChange:r=>a(r.target.value),sx:{bgcolor:"white"},children:[e.jsx(o,{value:"m123123",children:"m123123"}),e.jsx(o,{value:"m123124",children:"m123124"}),e.jsx(o,{value:"m123125",children:"m123125"})]})})]}),e.jsxs(i,{sx:{minWidth:180},children:[e.jsx(t,{variant:"caption",sx:{color:"#666",mb:.5,display:"block"},children:"Compare Jobs"}),e.jsx(c,{size:"small",fullWidth:!0,children:e.jsxs(m,{value:n,onChange:r=>g(r.target.value),sx:{bgcolor:"white"},children:[e.jsx(o,{value:"Recent 5 Jobs",children:"Recent 5 Jobs"}),e.jsx(o,{value:"Recent 10 Jobs",children:"Recent 10 Jobs"}),e.jsx(o,{value:"All Jobs",children:"All Jobs"})]})})]}),e.jsxs(i,{sx:{minWidth:180},children:[e.jsx(t,{variant:"caption",sx:{color:"#666",mb:.5,display:"block"},children:"Comparison metric"}),e.jsx(c,{size:"small",fullWidth:!0,children:e.jsxs(m,{value:x,onChange:r=>j(r.target.value),sx:{bgcolor:"white"},children:[e.jsx(o,{value:"GPU Power",children:"GPU Power"}),e.jsx(o,{value:"GPU Utilization",children:"GPU Utilization"}),e.jsx(o,{value:"Memory Usage",children:"Memory Usage"})]})})]})]}),e.jsx(i,{sx:{bgcolor:"#fafafa",p:2,borderRadius:1},children:e.jsx(w,{data:f,layout:{autosize:!0,height:400,margin:{l:60,r:120,t:20,b:60},xaxis:{title:"Relative Time",tickmode:"linear",tick0:0,dtick:10,ticksuffix:"%",gridcolor:"#e0e0e0",showgrid:!0},yaxis:{title:"GPU Power",gridcolor:"#e0e0e0",showgrid:!0,range:[0,200]},plot_bgcolor:"white",paper_bgcolor:"#fafafa",showlegend:!0,legend:{x:1.02,y:1,xanchor:"left",yanchor:"top"}},config:{responsive:!0,displayModeBar:!1},style:{width:"100%"}})})]})]}),e.jsxs(i,{children:[e.jsx(t,{variant:"h5",sx:{fontWeight:600,color:"#1a2f5a",mb:2},children:"Recent Jobs and Performance"}),e.jsx(p,{sx:{p:0},children:e.jsx(T,{rows:S,columns:b,pagination:!0,paginationMode:"client",getRowId:r=>r.id,disableColumnSelector:!0,autoHeight:!0,initialState:{pagination:{paginationModel:{page:0,pageSize:10}}},pageSizeOptions:[10,25,50],sx:{"& .MuiDataGrid-columnHeaders":{bgcolor:"#f5f5f5",fontWeight:600},"& .MuiDataGrid-cell":{borderBottom:"1px solid #e0e0e0"}}})})]})]})})};export{$ as component};
