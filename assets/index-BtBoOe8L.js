import{a as oe,b as le,c as ie,g as ce,d as x,j as e,B as r,T as a,f as de,P as L,i as $,N as E,O as T,Q as R,U as G,V as J,W as Q,X as K,C as ue,e as me,L as ge,h as fe}from"./index-CYwz6NOt.js";import{P as q}from"./react-plotly-N1asVEom.js";import{A as be,E as X}from"./ExpandMore-BZ0Gu4gS.js";import{u as pe}from"./useQuery-XriSp-AE.js";import{C as he}from"./CircularProgress-Cz1v44mr.js";import{A as xe}from"./Alert-D9B5RkcU.js";import{M as s}from"./MenuItem-B8gjdKSY.js";import{C as H}from"./Chip-CZosmUHm.js";import{T as Y,a as Z}from"./TableHead-BqJyfmRR.js";import{G as O}from"./Grid-HghZybvF.js";import"./index-Chjiymov.js";import"./Close-C-5r-21X.js";import"./dividerClasses-9LCuLCGw.js";var A={},ee;function je(){if(ee)return A;ee=1;var i=oe();Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var l=i(le()),u=ie();return A.default=(0,l.default)((0,u.jsx)("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"}),"Fullscreen"),A}var ye=je();const te=ce(ye);var _={},se;function ve(){if(se)return _;se=1;var i=oe();Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var l=i(le()),u=ie();return _.default=(0,l.default)((0,u.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),_}var we=ve();const re=ce(we),De=i=>{const{machine:l,arch:u,start:g,end:m,qos:y}=i;return pe({queryKey:["centerPerformance",l,u,g,m,y],queryFn:async()=>{const j="https://rest.nersc.gov/REST/mynersc/queuewaittimes.php",o=new URLSearchParams({machine:l,arch:u,start:g.toString(),end:m.toString(),qos:y}),h=await fetch(`${j}?${o.toString()}`);if(!h.ok)throw new Error(`Failed to fetch data: ${h.statusText}`);return await h.json()},refetchInterval:12e4,staleTime:3e5,retry:2})},ae=i=>{if(!i||i.length===0)return{x:[],y:[],z:[]};const l=new Set,u=new Set;i.forEach(([o,h])=>{l.add(o),u.add(h)});const g=Array.from(l).sort((o,h)=>o-h),m=Array.from(u).sort((o,h)=>o-h),y=Array(m.length).fill(null).map(()=>Array(g.length).fill(null));i.forEach(([o,h,d])=>{const b=g.indexOf(o),D=m.indexOf(h);b!==-1&&D!==-1&&(y[D][b]=d)});const f=g.map((o,h)=>o===0?"<1":h===g.length-1?`${o}+`:o.toString()),j=m.map((o,h)=>{const d=Math.pow(2,o),b=Math.pow(2,o+1)-1;return o===0?"1":h===m.length-1?`${d}+`:`${d} - ${b}`});return{x:f,y:j,z:y}},ne=i=>!i||!i.categories||!i.values?{categories:[],values:[]}:{categories:i.categories.map(u=>u.charAt(0).toUpperCase()+u.slice(1)),values:i.values};function Se(){const[i,l]=x.useState("perlmutter"),[u,g]=x.useState("gpu"),[m,y]=x.useState("regular"),[f,j]=x.useState("7d"),[o,h]=x.useState(new Date(Date.now()-7*24*60*60*1e3)),[d,b]=x.useState(new Date),[D,k]=x.useState(!0),[M,V]=x.useState(!0),c=x.useMemo(()=>({machine:i,arch:u,start:Math.floor(o.getTime()/1e3),end:Math.floor(d.getTime()/1e3),qos:m}),[i,u,o,d,m]),{data:t,isLoading:w,isError:C,error:W,refetch:F}=De(c),z=x.useMemo(()=>t!=null&&t.wait?ae(t.wait):null,[t==null?void 0:t.wait]),S=x.useMemo(()=>t!=null&&t.jobs?ae(t.jobs):null,[t==null?void 0:t.jobs]),P=x.useMemo(()=>t!=null&&t.wait_table?ne(t.wait_table):null,[t==null?void 0:t.wait_table]),N=x.useMemo(()=>t!=null&&t.jobs_table?ne(t.jobs_table):null,[t==null?void 0:t.jobs_table]),B=n=>{j(n);const v=new Date;let p=7;n==="24h"?p=1:n==="7d"?p=7:n==="30d"&&(p=30),h(new Date(Date.now()-p*24*60*60*1e3)),b(v)},U=()=>{const n=o.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),v=d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${n} - ${v}`};return w?e.jsxs(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:[e.jsx(he,{}),e.jsx(a,{sx:{ml:2},children:"Loading performance data..."})]}):C?e.jsxs(xe,{severity:"error",sx:{mb:3},children:[e.jsx(be,{children:"Error Loading Data"}),W instanceof Error?W.message:"An unexpected error occurred",e.jsx(de,{onClick:()=>F(),sx:{mt:1},children:"Try Again"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{mb:6},children:[e.jsx(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:e.jsxs(r,{children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a2f5a",mb:.5},children:"Queue Wait Times"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"See how long jobs are waiting to start"})]})}),e.jsxs(L,{sx:{p:3,mb:3},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:500},children:"Avg. Queue Wait Time by Node Count and Duration"}),e.jsx($,{size:"small",children:e.jsx(te,{})})]}),e.jsxs(r,{sx:{display:"flex",gap:2,mb:2,alignItems:"center"},children:[e.jsxs(E,{size:"small",sx:{minWidth:150},children:[e.jsx(T,{id:"select-label-machine",children:"Machine"}),e.jsxs(R,{value:`${i}-${u}`,labelId:"select-label-machine",id:"select-machine",label:"Machine",onChange:n=>{const[v,p]=n.target.value.split("-");l(v),g(p)},sx:{bgcolor:"white"},children:[e.jsx(s,{value:"perlmutter-all",children:"Perlmutter (All)"}),e.jsx(s,{value:"perlmutter-gpu",children:"Perlmutter (GPU)"}),e.jsx(s,{value:"perlmutter-cpu",children:"Perlmutter (CPU)"})]})]}),e.jsxs(E,{size:"small",sx:{minWidth:120},children:[e.jsx(T,{id:"select-label-qos",children:"QOS"}),e.jsxs(R,{value:m,labelId:"select-label-qos",id:"select-qos",label:"QOS",onChange:n=>y(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"regular",children:"Regular"}),e.jsx(s,{value:"debug",children:"Debug"}),e.jsx(s,{value:"interactive",children:"Interactive"}),e.jsx(s,{value:"jupyter",children:"Jupyter"}),e.jsx(s,{value:"preempt",children:"Preempt"}),e.jsx(s,{value:"shared",children:"Shared"})]})]}),e.jsxs(E,{size:"small",sx:{minWidth:150,ml:"auto"},children:[e.jsx(T,{id:"wait-time-date-range-label",children:"Date Range"}),e.jsxs(R,{value:f,labelId:"wait-time-date-range-label",id:"wait-time-date-range-select",label:"Date Range",onChange:n=>B(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"24h",children:"Last 24 Hours"}),e.jsx(s,{value:"7d",children:"Last 7 Days"}),e.jsx(s,{value:"30d",children:"Last 30 Days"})]})]}),e.jsx(H,{label:U(),size:"small",sx:{bgcolor:"#D6E1E8",color:"#49454F",fontWeight:500}})]}),z&&e.jsx(q,{data:[{z:z.z,x:z.x,y:z.y,type:"heatmap",colorscale:[[0,"#73D216"],[.25,"#EDD400"],[.5,"#F57900"],[1,"#EF2929"]],showscale:!0,zmin:0,zmax:96,connectgaps:!1,xgap:1,ygap:1,hovertemplate:"<b>Queue Wait Time</b><br><br>Nodes Requested: <b>%{y}</b><br>Hours Requested: <b>%{x}</b><br>Avg Wait Time: <b>%{z} hours</b><extra></extra>"}],layout:{autosize:!0,height:450,margin:{l:100,r:80,t:20,b:80},xaxis:{title:"Hours Requested",side:"bottom",showgrid:!0,gridcolor:"#f0f0f0",gridwidth:1,zeroline:!1,type:"category",tickmode:"array",tickvals:z.x,ticktext:z.x.map(String)},yaxis:{title:"Number of Nodes Requested",showgrid:!0,gridcolor:"#f0f0f0",gridwidth:1,zeroline:!1},plot_bgcolor:"white",paper_bgcolor:"white"},config:{responsive:!0,displayModeBar:!0,displaylogo:!1,staticPlot:!1},style:{width:"100%"}})]}),e.jsxs(L,{sx:{p:3},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:500},children:"Avg. Queue Wait Time across different Queues"}),e.jsx($,{size:"small",onClick:()=>k(!D),children:D?e.jsx(re,{}):e.jsx(X,{})})]}),D&&P&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{display:"flex",gap:2,mb:2,justifyContent:"flex-end",alignItems:"center"},children:[e.jsxs(E,{size:"small",sx:{minWidth:150},children:[e.jsx(T,{id:"jobs-table-date-range-label",children:"Date Range"}),e.jsxs(R,{value:f,labelId:"jobs-table-date-range-label",id:"jobs-table-date-range-select",label:"Date Range",onChange:n=>B(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"24h",children:"Last 24 Hours"}),e.jsx(s,{value:"7d",children:"Last 7 Days"}),e.jsx(s,{value:"30d",children:"Last 30 Days"})]})]}),e.jsx(H,{label:U(),size:"small",sx:{bgcolor:"#D6E1E8",color:"#49454F",fontWeight:500}})]}),e.jsx(Y,{children:e.jsxs(G,{size:"small",sx:{minWidth:650},children:[e.jsx(Z,{children:e.jsx(J,{sx:{bgcolor:"#f5f5f5"},children:P.categories.map((n,v)=>e.jsx(Q,{sx:{fontWeight:600},children:n},v))})}),e.jsx(K,{children:P.values.map((n,v)=>e.jsx(J,{sx:{"&:nth-of-type(odd)":{bgcolor:"#fafafa"}},children:n.map((p,I)=>e.jsx(Q,{children:typeof p=="number"&&I>0?p.toFixed(2):p},I))},v))})]})})]})]})]}),e.jsxs(r,{sx:{mb:6},children:[e.jsxs(r,{sx:{mb:2},children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a2f5a",mb:.5},children:"Queued Jobs"}),e.jsx(a,{variant:"body2",color:"text.secondary",children:"See how many jobs are waiting to start"})]}),e.jsxs(L,{sx:{p:3,mb:3},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:500},children:"Jobs by Node Count and Duration"}),e.jsx($,{size:"small",children:e.jsx(te,{})})]}),e.jsxs(r,{sx:{display:"flex",gap:2,mb:2,alignItems:"center"},children:[e.jsxs(E,{size:"small",sx:{minWidth:150},children:[e.jsx(T,{id:"select-label-machine",children:"Machine"}),e.jsxs(R,{value:`${i}-${u}`,labelId:"select-label-machine",id:"select-machine",label:"Machine",onChange:n=>{const[v,p]=n.target.value.split("-");l(v),g(p)},sx:{bgcolor:"white"},children:[e.jsx(s,{value:"perlmutter-all",children:"Perlmutter (All)"}),e.jsx(s,{value:"perlmutter-gpu",children:"Perlmutter (GPU)"}),e.jsx(s,{value:"perlmutter-cpu",children:"Perlmutter (CPU)"})]})]}),e.jsxs(E,{size:"small",sx:{minWidth:120},children:[e.jsx(T,{id:"select-label-qos",children:"QOS"}),e.jsxs(R,{value:m,labelId:"select-label-qos",id:"select-qos",label:"QOS",onChange:n=>y(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"regular",children:"Regular"}),e.jsx(s,{value:"debug",children:"Debug"}),e.jsx(s,{value:"interactive",children:"Interactive"}),e.jsx(s,{value:"jupyter",children:"Jupyter"}),e.jsx(s,{value:"preempt",children:"Preempt"}),e.jsx(s,{value:"shared",children:"Shared"})]})]}),e.jsxs(E,{size:"small",sx:{minWidth:150,ml:"auto"},children:[e.jsx(T,{id:"jobs-date-range-label",children:"Date Range"}),e.jsxs(R,{value:f,labelId:"jobs-date-range-label",id:"jobs-date-range-select",label:"Date Range",onChange:n=>B(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"24h",children:"Last 24 Hours"}),e.jsx(s,{value:"7d",children:"Last 7 Days"}),e.jsx(s,{value:"30d",children:"Last 30 Days"})]})]}),e.jsx(H,{label:U(),size:"small",sx:{bgcolor:"#D6E1E8",color:"#49454F",fontWeight:500}})]}),S&&e.jsx(q,{data:[{z:S.z,x:S.x,y:S.y,type:"heatmap",colorscale:[[0,"#73D216"],[.05,"#EDD400"],[.25,"#F57900"],[1,"#EF2929"]],showscale:!0,zmin:0,zmax:4e3,connectgaps:!1,xgap:1,ygap:1,hovertemplate:"<b>Queued Jobs</b><br><br>Nodes Requested: <b>%{y}</b><br>Hours Requested: <b>%{x}</b><br>Number of Jobs: <b>%{z}</b><extra></extra>"}],layout:{autosize:!0,height:450,margin:{l:100,r:80,t:20,b:80},xaxis:{title:"Hours Requested",side:"bottom",showgrid:!0,gridcolor:"#f0f0f0",gridwidth:1,zeroline:!1,type:"category",tickmode:"array",tickvals:S.x,ticktext:S.x.map(String)},yaxis:{title:"Number of Nodes Requested",showgrid:!0,gridcolor:"#f0f0f0",gridwidth:1,zeroline:!1},plot_bgcolor:"white",paper_bgcolor:"white",hovermode:"closest"},config:{responsive:!0,displayModeBar:!0,displaylogo:!1,staticPlot:!1},style:{width:"100%"}})]}),e.jsxs(L,{sx:{p:3},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(a,{variant:"h6",sx:{fontWeight:500},children:"Jobs across different Queues"}),e.jsx($,{size:"small",onClick:()=>V(!M),children:M?e.jsx(re,{}):e.jsx(X,{})})]}),M&&N&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{display:"flex",gap:2,mb:2,justifyContent:"flex-end",alignItems:"center"},children:[e.jsxs(E,{size:"small",sx:{minWidth:150},children:[e.jsx(T,{id:"table-date-range-label",children:"Date Range"}),e.jsxs(R,{value:f,labelId:"table-date-range-label",id:"table-date-range-select",label:"Date Range",onChange:n=>B(n.target.value),sx:{bgcolor:"white"},children:[e.jsx(s,{value:"24h",children:"Last 24 Hours"}),e.jsx(s,{value:"7d",children:"Last 7 Days"}),e.jsx(s,{value:"30d",children:"Last 30 Days"})]})]}),e.jsx(H,{label:U(),size:"small",sx:{bgcolor:"#D6E1E8",color:"#49454F",fontWeight:500}})]}),e.jsx(Y,{children:e.jsxs(G,{size:"small",sx:{minWidth:650},children:[e.jsx(Z,{children:e.jsx(J,{sx:{bgcolor:"#f5f5f5"},children:N.categories.map((n,v)=>e.jsx(Q,{sx:{fontWeight:600},children:n},v))})}),e.jsx(K,{children:N.values.map((n,v)=>e.jsx(J,{sx:{"&:nth-of-type(odd)":{bgcolor:"#fafafa"}},children:n.map((p,I)=>e.jsx(Q,{children:typeof p=="number"&&I>0?I===N.categories.length-1?`${p.toFixed(2)}%`:p.toLocaleString():p},I))},v))})]})})]})]})]})]})}const Ce=({csvFilePath:i})=>{const[l,u]=x.useState([]),[g,m]=x.useState(!0),[y,f]=x.useState(null),[j,o]=x.useState("24h"),h=c=>{const t=c.trim().split(`
`),w=[];for(let C=1;C<t.length;C++){const W=t[C].trim();if(!W)continue;const[F,z]=W.split(","),S=parseFloat(F),P=parseFloat(z);!isNaN(S)&&!isNaN(P)&&w.push({time:S,power:P})}return w};x.useEffect(()=>{(async()=>{m(!0),f(null);try{const t=await fetch(i);if(!t.ok)throw new Error(`Failed to load CSV file: ${t.statusText}`);const w=await t.text(),C=h(w);C.length===0?f("No valid data found in the CSV file"):u(C)}catch(t){f(t instanceof Error?t.message:"Error loading CSV file")}finally{m(!1)}})()},[i]);const d=x.useMemo(()=>{if(j==="all"||l.length===0)return l;const c=Math.max(...l.map(w=>w.time));let t;switch(j){case"24h":t=c-24*60*60*1e3;break;case"7d":t=c-7*24*60*60*1e3;break;case"30d":t=c-30*24*60*60*1e3;break;default:return l}return l.filter(w=>w.time>=t)},[l,j]),b=x.useMemo(()=>{if(l.length===0)return null;const c=Math.max(...l.map(t=>t.time));return new Date(c)},[l]),D=x.useMemo(()=>{if(d.length===0)return"";const c=d.map(S=>S.time),t=Math.min(...c),w=Math.max(...c),C=new Date(t),W=new Date(w),F=C.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),z=W.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return`${F} - ${z}`},[d]),k=d.map(c=>new Date(c.time)),M=d.map(c=>c.power),V=x.useMemo(()=>M.map(c=>c>=1e6?`${(c/1e6).toFixed(2)} MW`:c>=1e3?`${(c/1e3).toFixed(2)} KW`:`${c.toFixed(2)} W`),[M]);return e.jsx(r,{sx:{width:"100%",mb:5},children:e.jsxs(L,{elevation:3,sx:{p:3},children:[e.jsx(a,{variant:"h5",gutterBottom:!0,children:"System Power Usage"}),g&&e.jsx(r,{sx:{display:"flex",justifyContent:"center",my:4},children:e.jsx(he,{})}),y&&e.jsx(xe,{severity:"error",sx:{mb:2},children:y}),l.length>0&&!g&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{mb:3,display:"flex",justifyContent:"flex-end",alignItems:"center"},children:[e.jsxs(E,{size:"small",sx:{minWidth:200},children:[e.jsx(T,{id:"date-range-label",children:"Date Range"}),e.jsxs(R,{labelId:"date-range-label",id:"date-range-select",value:j,label:"Date Range",onChange:c=>o(c.target.value),sx:{textTransform:"none"},children:[e.jsx(s,{value:"24h",sx:{textTransform:"none"},children:"Last 24 Hours"}),e.jsx(s,{value:"7d",sx:{textTransform:"none"},children:"Last 7 Days"}),e.jsx(s,{value:"30d",sx:{textTransform:"none"},children:"Last 30 Days"}),e.jsx(s,{value:"all",sx:{textTransform:"none"},children:"All Data"})]})]}),e.jsx(H,{label:D,size:"small",sx:{bgcolor:"#D6E1E8",color:"#49454F",fontWeight:500,ml:2}})]}),e.jsx(r,{sx:{width:"100%",height:"500px",mb:3},children:e.jsx(q,{data:[{x:k,y:M,type:"scatter",mode:"lines",name:"Power",line:{color:"#2196f3",width:2},customdata:V,hovertemplate:"<b>Power:</b> %{customdata}<extra></extra>",hoverlabel:{bgcolor:"#444444",font:{color:"white"}}}],layout:{autosize:!0,xaxis:{title:"Time",type:"date",gridcolor:"#f0f0f0",showgrid:!0,spikecolor:"#bdbec1",spikethickness:1,spikedash:"dot",showline:!0,linecolor:"#bdbec1",zeroline:!1},yaxis:{title:"Power (W)",gridcolor:"#f0f0f0",showgrid:!0,zeroline:!1},hovermode:"x",margin:{l:50,r:20,t:20,b:50},dragmode:"zoom"},config:{responsive:!0,displayModeBar:!1,displaylogo:!1},style:{width:"100%",height:"100%"}})})]}),e.jsxs(a,{variant:"body1",sx:{color:"#666",mt:2,display:"block"},children:[e.jsx("strong",{children:"Note:"})," Full system power usage is calculated from the substation power. Sections without measured data are empty in chart."," ",e.jsx("a",{href:"#",style:{color:"#2196f3"},children:"Learn more."})]}),e.jsxs(r,{sx:{mt:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(a,{variant:"caption",sx:{color:"text.secondary"},children:["Displaying ",d.length," of ",l.length," data points"]}),b&&e.jsxs(a,{variant:"caption",sx:{color:"text.secondary"},children:["Last updated: ",b.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]})]})})},_e=function(){const l=()=>{const f=[],j=[],o=[],h=new Date;for(let d=14;d>=0;d--){const b=new Date(h);b.setDate(b.getDate()-d),f.push(b.toLocaleDateString("en-US",{month:"short",day:"numeric"}));const D=500+Math.random()*300,k=D-50+Math.random()*100;j.push(Math.floor(D)),o.push(Math.floor(k))}return{dates:f,submitted:j,completed:o}},u=()=>{const f=[],j=[],o=[],h=new Date;for(let d=14;d>=0;d--){const b=new Date(h);b.setDate(b.getDate()-d),f.push(b.toLocaleDateString("en-US",{month:"short",day:"numeric"})),j.push(Math.floor(800+Math.random()*200)),o.push(Math.floor(400+Math.random()*200))}return{dates:f,nodeHoursAdded:j,backlogExecuted:o}},g=l(),m=u(),y={labels:["HEP","ASCR","BER","BES","NP","Others"],values:[3500,5e3,2300,1e3,800,500],colors:["#1f4788","#4472c4","#5b9bd5","#a5c8e4","#8fce00","#c0c0c0"]};return e.jsxs(ue,{maxWidth:"xl",sx:{marginBottom:3,marginTop:3},children:[e.jsxs(me,{sx:{mb:2},children:[e.jsx(ge,{underline:"hover",color:"primary",href:"#",children:"For Users"}),e.jsx(a,{color:"text.primary",children:"Performance Metrics"})]}),e.jsxs(r,{sx:{mb:4},children:[e.jsx(a,{variant:"h3",sx:{fontWeight:700,color:"#1a1a1a",mb:1},children:"Center Performance"}),e.jsx(a,{variant:"body1",color:"text.secondary",children:"View general system load and performance metrics"})]}),e.jsx(Se,{}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[e.jsx(a,{variant:"h4",sx:{fontWeight:600,color:"#1a1a1a"},children:"NERSC Performance"}),e.jsx(fe,{to:"/user-job-performance",style:{textDecoration:"none"},children:e.jsx(de,{variant:"contained",sx:{textTransform:"none",bgcolor:"#3f51b5","&:hover":{bgcolor:"#303f9f"}},children:"View Performance of Your Jobs â†’"})})]}),e.jsx(Ce,{csvFilePath:"/test-nersc/data/perlmutter-system-power-2025-05.csv"}),e.jsxs(O,{container:!0,spacing:3,sx:{mb:3},children:[e.jsxs(O,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a1a1a",mb:2},children:"Daily Jobs Completed"}),e.jsxs(L,{sx:{p:3},children:[e.jsx(a,{variant:"h6",sx:{color:"#555",fontWeight:500,mb:2},children:"Daily Jobs Completes vs Submitted (Last 2 weeks)"}),e.jsxs(r,{sx:{display:"flex",gap:3,mb:2},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(r,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"#ff9800",border:"2px solid #ff9800"}}),e.jsxs(a,{variant:"body2",children:["Jobs Submitted ",e.jsx("strong",{children:"12,123"})]})]}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(r,{sx:{width:12,height:12,borderRadius:"50%",bgcolor:"#4caf50",border:"2px solid #4caf50"}}),e.jsxs(a,{variant:"body2",children:["Jobs Completed ",e.jsx("strong",{children:"12,002"})]})]})]}),e.jsx(q,{data:[{x:g.dates,y:g.submitted,type:"scatter",mode:"lines",name:"Jobs Submitted",line:{color:"#ff9800",width:2}},{x:g.dates,y:g.completed,type:"scatter",mode:"lines",name:"Jobs Completed",line:{color:"#4caf50",width:2}}],layout:{autosize:!0,height:300,margin:{l:50,r:20,t:20,b:50},xaxis:{gridcolor:"#f0f0f0",showgrid:!0},yaxis:{gridcolor:"#f0f0f0",showgrid:!0,range:[0,1200]},plot_bgcolor:"white",paper_bgcolor:"white",showlegend:!1},config:{responsive:!0,displayModeBar:!1},style:{width:"100%"}}),e.jsx(r,{sx:{textAlign:"right",mt:1},children:e.jsx(a,{variant:"caption",sx:{color:"#888"},children:"Updated 11/12/2025"})})]})]}),e.jsxs(O,{item:!0,xs:12,md:6,children:[e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a1a1a",mb:2},children:"Programs on NERSC"}),e.jsxs(L,{sx:{p:3},children:[e.jsx(a,{variant:"h6",sx:{color:"#555",fontWeight:500,mb:2},children:"Hours on NERSC (Last 2 weeks)"}),e.jsx(q,{data:[{values:y.values,labels:y.labels,type:"pie",hole:.5,marker:{colors:y.colors},textinfo:"label+value",textposition:"outside",automargin:!0}],layout:{autosize:!0,height:350,margin:{l:20,r:20,t:20,b:20},showlegend:!1,plot_bgcolor:"white",paper_bgcolor:"white",annotations:[{text:"",showarrow:!1,font:{size:20}}]},config:{responsive:!0,displayModeBar:!1},style:{width:"100%"}}),e.jsxs(a,{variant:"caption",sx:{color:"#666",display:"block",mt:1},children:[e.jsx("strong",{children:"Note:"})," Contact your allocation manager for questions about your DOE Mission Science Allocation at NERSC."," ",e.jsx("a",{href:"#",style:{color:"#2196f3"},children:"Learn more."})]}),e.jsx(r,{sx:{textAlign:"right",mt:1},children:e.jsx(a,{variant:"caption",sx:{color:"#888"},children:"Updated 11/12/2025"})})]})]})]}),e.jsx(a,{variant:"h5",sx:{fontWeight:600,color:"#1a1a1a",mb:2},children:"Daily Jobs Completed"}),e.jsxs(L,{sx:{p:3},children:[e.jsx(a,{variant:"h6",sx:{color:"#555",fontWeight:500,mb:2},children:"Backlog in terms of Node Hours (Last 2 weeks)"}),e.jsxs(r,{sx:{display:"flex",gap:3,mb:2},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(r,{sx:{width:12,height:12,bgcolor:"#5b9bd5"}}),e.jsxs(a,{variant:"body2",children:["Total Node Hours added by new Jobs ",e.jsx("strong",{children:"25,1233"})]})]}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(r,{sx:{width:12,height:12,bgcolor:"#ff9800"}}),e.jsxs(a,{variant:"body2",children:["Total Backlog Executed ",e.jsx("strong",{children:"42,1202"})]})]})]}),e.jsx(q,{data:[{x:m.dates,y:m.nodeHoursAdded,type:"scatter",mode:"lines",name:"Total Node Hours",fill:"tonexty",fillcolor:"rgba(91, 155, 213, 0.3)",line:{color:"#5b9bd5",width:2}},{x:m.dates,y:m.backlogExecuted,type:"scatter",mode:"lines",name:"Total Backlog Executed",fill:"tozeroy",fillcolor:"rgba(255, 152, 0, 0.3)",line:{color:"#ff9800",width:2}}],layout:{autosize:!0,height:300,margin:{l:50,r:20,t:20,b:50},xaxis:{gridcolor:"#f0f0f0",showgrid:!0},yaxis:{gridcolor:"#f0f0f0",showgrid:!0,range:[0,1200]},plot_bgcolor:"white",paper_bgcolor:"white",showlegend:!1},config:{responsive:!0,displayModeBar:!1},style:{width:"100%"}}),e.jsx(r,{sx:{textAlign:"right",mt:1},children:e.jsx(a,{variant:"caption",sx:{color:"#888"},children:"Updated 11/12/2025"})})]})]})};export{_e as component};
